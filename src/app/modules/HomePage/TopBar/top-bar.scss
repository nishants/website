$profile_full_image_height: 120px;
$slope_top_offset: 40px;
$side_padding: 10px;

$small_profile_img_height: 36px;
$small_profile_img_width: 36px;

#top-bar {
  position: relative;
  .profile {
    padding: 0 $side_padding;
    overflow: hidden;
    position: absolute;
    width: 100%;
    img {
      position: relative;
      display: block;
      height: $profile_full_image_height;
      border: 3px solid white;
      border-radius: 1px;
      @include transition($transition);
    }
    .slope-bg {
      position: absolute;
      top: $slope_top_offset;
      left: -10px;
      height: $profile_full_image_height;
      width: 150%;
      background-color: white;
      @include transformOrigin(0 0);
      @include transform(rotate(2deg));
      @include transition($transition);
    }
  }
  .navigation {
    padding: $side_padding;
    @extend .resize-container;

    .profile-info {
      position: relative;
      width: $homepage_side_bar_width;
      overflow: hidden;

      .small-profile-image {
        display: block;
        float: left;
        height: $small_profile_img_height;
        @include transition($transition);
        @include transform(translateX(-$small_profile_img_width));
      }
      .profile-labels {
        @include transition($transition);
        @include transformOrigin(0 0);
        @include transform(translateX(-$small_profile_img_width));

        text-align: left;
        float: left;
        .profile-name,
        .profile-title {
          display: block;
        }

        .profile-name {
          font-weight: $font_weight_bold;
          font-size: $large_font;
        }

        .profile-title {
          font-size: $small_font;
        }
      }
    }
  }

  .profile-bar.fixed-to-page {
    .profile {
      top: -$profile_full_image_height;
      left: 0;
    }
  }

  .fixed-to-window {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    opacity: 0;
    pointer-events: none;
    background-color: white;
  }
}

#homepage.profile-reached {
  #top-bar {
    .profile {
      img {
        @include transform(translateY(-2 * $profile_full_image_height));
      }
      .slope-bg {
        @include transform(rotate(0deg));
      }
    }
    .navigation {
      .profile-info {
        .small-profile-image {
          @include transform(translateX(0));
        }
        .profile-labels {
          @include transform(translateX(5px) scale(0.8));
        }
      }
    }
  }
}

#homepage.stick-navigation {
  #top-bar {
    .fixed-to-window {
      opacity: 1;
      pointer-events: initial;
    }
  }
}
